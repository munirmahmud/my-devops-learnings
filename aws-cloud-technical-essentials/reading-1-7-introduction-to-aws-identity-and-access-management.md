### IAM ржкрж▓рж┐рж╕рж┐рж░ ржЙржжрж╛рж╣рж░ржг (IAM Policy Examples)

ржкрзНрж░рж╛рзЯ рж╕ржм IAM ржкрж▓рж┐рж╕рж┐ AWS-ржП **JSON ржлрж░ржорзНржпрж╛ржЯрзЗ** рж╕ржВрж░ржХрзНрж╖рж┐ржд рж╣рзЯ, ржпрзЗржЦрж╛ржирзЗ ржПржХрж╛ржзрж┐ржХ ржЙржкрж╛ржжрж╛ржи (element) ржерж╛ржХрзЗред ржирж┐ржЪрзЗ ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛ, ржпрзЗржЦрж╛ржирзЗ **ржПржХржЬржи ржЗржЙржЬрж╛рж░ржХрзЗ ржЕрзНржпрж╛ржбржорж┐ржи ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕** ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ ржПржХржЯрж┐ Identity-based Policy ржПрж░ ржорж╛ржзрзНржпржорзЗ:

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "*",
      "Resource": "*"
    }
  ]
}
```

ржПржЗ ржкрж▓рж┐рж╕рж┐рждрзЗ ржЪрж╛рж░ржЯрж┐ ржкрзНрж░ржзрж╛ржи JSON ржЙржкрж╛ржжрж╛ржи рж░рзЯрзЗржЫрзЗ:

1. **Version**:
   ржПржЯрж┐ ржкрж▓рж┐рж╕рж┐ ржнрж╛рж╖рж╛рж░ ржнрж╛рж░рзНрж╕ржи ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред AWS ржпрзЗржи ржарж┐ржХржорждрзЛ ржкрж▓рж┐рж╕рж┐ржЯрж┐ ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ, рж╕рзЗржЬржирзНржп `Version: "2012-10-17"` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржПржЯрж┐ рж╕рж░рзНржмрж╢рзЗрж╖ ржлрж┐ржЪрж╛рж░ржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

2. **Effect**:
   ржПржЯрж┐ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ ржкрж▓рж┐рж╕рж┐ржЯрж┐ ржХрзЛржирзЛ ржЕрзНржпрж╛ржХрж╢ржирзЗрж░ ржЕржирзБржорждрж┐ ржжрзЗржмрзЗ ржХрж┐ржирж╛ред ржПржЦрж╛ржирзЗ `"Effect": "Allow"` ржжрзЗржУрзЯрж╛ ржЖржЫрзЗ, ржЕрж░рзНржерж╛рзО ржЗржЙржЬрж╛рж░ржХрзЗ рж╕ржорзНржкрзВрж░рзНржг ржЕржирзБржорждрж┐ ржжрзЗржУрзЯрж╛ рж╣ржЪрзНржЫрзЗред

3. **Action**:
   ржПржЦрж╛ржирзЗ `"Action": "*"` ржЕрж░рзНржерж╛рзО рж╕ржм ржзрж░ржирзЗрж░ ржЕрзНржпрж╛ржХрж╢ржи ржЕржирзБржорзЛржжрж┐ржд тАУ ржПржЯрж┐ ржПржХржЯрж┐ **wildcard**, ржпрж╛ ржЖржкржирж╛рж░ AWS ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ рж╕ржорж╕рзНржд ржЕрзНржпрж╛ржХрж╢ржи ржмрзЛржЭрж╛рзЯред

4. **Resource**:
   ржПржЦрж╛ржирзЗ `"Resource": "*"` тАУ ржЕрж░рзНржерж╛рзО, рж╕ржм рж░рж┐рж╕рзЛрж░рзНрж╕рзЗрж░ ржЙржкрж░ ржПржЗ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░ржпрзЛржЬрзНржпред

ЁЯУМ ржПржЗржнрж╛ржмрзЗ, ржПржЗ ржкрж▓рж┐рж╕рж┐ржЯрж┐ ржПржХржЬржи ржЗржЙржЬрж╛рж░ржХрзЗ ржЖржкржирж╛рж░ AWS ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ **рж╕ржм ржЕрзНржпрж╛ржХрж╢ржи рж╕ржм рж░рж┐рж╕рзЛрж░рзНрж╕рзЗ** ржХрж░рж╛рж░ ржЕржирзБржорждрж┐ ржжрзЗрзЯред ржПржХрзЗ **Administrator Policy** ржмрж▓рж╛ рж╣рзЯред

---

### ржПржХржЯрж┐ ржЖрж░ржУ рж╕рзБржирж┐рж░рзНржжрж┐рж╖рзНржЯ (Granular) IAM ржкрж▓рж┐рж╕рж┐рж░ ржЙржжрж╛рж╣рж░ржг

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "iam:ChangePassword",
        "iam:GetUser"
      ],
      "Resource": "arn:aws:iam::123456789012:user/${aws:username}"
    }
  ]
}
```

ржПржЗ ржкрж▓рж┐рж╕рж┐ржЯрж┐ ржЗржЙржЬрж╛рж░ржХрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржирж┐ржЪрзЗрж░ ржХрж╛ржЬржЧрзБрж▓рзЛ ржХрж░рж╛рж░ ржЕржирзБржорждрж┐ ржжрзЗрзЯ:

* ржирж┐ржЬрзЗрж░ **IAM ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржкрж░рж┐ржмрж░рзНрждржи** ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ (`iam:ChangePassword`)
* ржирж┐ржЬрзЗрж░ **ржЗржЙржЬрж╛рж░ рждржерзНржп ржжрзЗржЦрждрзЗ** ржкрж╛рж░ржмрзЗ (`iam:GetUser`)

ржПржЦрж╛ржирзЗ `"Resource"`-ржП `${aws:username}` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ, ржпрж╛рж░ ржорж╛ржирзЗ рж╣рж▓рзЛ тАУ ржЗржЙржЬрж╛рж░ ржХрзЗржмрж▓ **ржирж┐ржЬрзЗрж░ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ** ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ, ржЕржирзНржп ржХрж╛рж░ржУ ржирзЯред

---

### IAM ржкрж▓рж┐рж╕рж┐рж░ ржЧржаржи ржмрзЛржЭрж╛ (Understand Policy Structure)

IAM ржкрж▓рж┐рж╕рж┐ рж▓рзЗржЦрж╛рж░ рж╕ржорзЯ ржирж┐ржЪрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржЙржкрж╛ржжрж╛ржи ржерж╛ржХрж╛ ржЖржмрж╢рзНржпржХ:

| ржЙржкрж╛ржжрж╛ржи (Element) | ржмрж░рзНржгржирж╛ (Description)                               | ржкрзНрж░рзЯрзЛржЬржирзАрзЯ? | ржЙржжрж╛рж╣рж░ржг (Example)                                                 |
| ---------------- | -------------------------------------------------- | ---------- | ---------------------------------------------------------------- |
| **Effect**       | ржЕржирзБржорждрж┐ ржжрж┐ржмрзЗ ржирж╛ ржЕрж╕рзНржмрзАржХрж╛рж░ ржХрж░ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ       | тЬФ          | `"Effect": "Deny"`                                               |
| **Action**       | ржХрзА ржзрж░ржирзЗрж░ ржЕрзНржпрж╛ржХрж╢ржи ржЕржирзБржорждрж┐/ржЕрж╕рзНржмрзАржХрж╛рж░ ржХрж░рж╛ рж╣ржмрзЗ рждрж╛ ржмрж▓рзЗ    | тЬФ          | `"Action": "iam:CreateUser"`                                     |
| **Resource**     | ржХрзЛржи рж░рж┐рж╕рзЛрж░рзНрж╕рзЗ ржПржЗ ржкрж▓рж┐рж╕рж┐ ржкрзНрж░ржпрзЛржЬрзНржп рж╣ржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗ | тЬФ          | `"Resource": "arn:aws:iam::account-ID-without-hyphens:user/Bob"` |

